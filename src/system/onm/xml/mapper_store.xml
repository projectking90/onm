<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- mapper 태그 선언 -->
<mapper namespace="system.onm.dao.StoreDAO">
	
<!--**************************************************************************-->
<!-- 게시판 검색하는 select 문을 내포한 select 태그 선언 -->
<!--**************************************************************************-->
	<select id="getIngredientList" parameterType="system.onm.dto.IngredientSearchDTO" resultType="system.onm.dto.IngredientDTO">
		select
			i_no
			,ia_code
			,ib_code
			,io_code
			,s_no
			,num
			,i_name
			,i_size
			,price
			,i_comment
			,reg_date
			,is_del
		from ingredient
		where 1=1
	</select>
	
	<select id ="getIngredientDetail" parameterType="int" resultType="system.onm.dto.IngredientDTO">
	select
		i_no							as		"i_no"
		,ia_code						as		"ia_code"
		,ib_code						as		"ib_code"
		,io_code						as		"io_code" 
		,s_no							as		"s_no"
		,num							as		"num"
		,i_name							as		"i_name"
		,i_size							as		"i_size"
		,price							as		"price"
		,i_comment						as		"i_comment"
		,reg_date						as		"reg_date"
		,is_del							as		"is_del"
	from ingredient
	where i_no=#{i_no}
	</select>
	
	<update id="updateStoreIngredient" parameterType="system.onm.dto.IngredientDTO">
		update 
			ingredient set
			ia_code = #{ia_code}
			,ib_code	= #{ib_code}
			,io_code	= #{io_code}
			,s_no	= #{s_no}
			,num	= #{num}
			,i_name	= #{i_name}
			,i_size	= #{i_size}
			,price	= #{price}
			,i_comment	= #{i_comment}
		where i_no = ${i_no}
	</update>
	
	<update id="deleteStoreIngredient" parameterType="system.onm.dto.IngredientDTO">
		update 
		ingredient set
		is_del = 'T'
		where i_no = ${i_no}
	</update>


</mapper>